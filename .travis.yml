# This file is managed by 'repo_helper'. Don't edit it directly.
---

language: python
dist: focal
cache: pip
python:
  - '3.6'
  - '3.7'
  - '3.8'

arch:
  - amd64
  - arm64
install:

  - pip install --upgrade pip
  - pip install tox tox-travis
  - pip install coveralls coverage_pyver_pragma

script:
  - tox -vv
after_success:
  - coveralls


stages:
  - test
  - deploy_pypi



jobs:
  allow_failures:
    - arch: arm64

  exclude:
    - python: '3.7'
      arch: arm64
    - python: '3.8'
      arch: arm64

  include:
    - stage: test
      dist: bionic
      python: 3.8

    - stage: deploy_pypi
      python: "3.6"
      script: skip
      deploy:
        on:
          tags: true
          repo: domdfcoding/tox-isolation
        provider: pypi
        user: "DomDF"
        password:
          secure: ip2VVDZjpdwVzlKhkFd0UCdLZnhouF0Zp5hgs+PbgWRL7S50b2Q6sbabPVlCeXlYnZus7fuyWH78FqBZnNnZDYP+um0ioZ3bMLs0Q27JPtf2B/vRrINfKiiTIY3tsks9zgi5kBzWNCMBRu4F+9T2uSmJzTTEYetp89RJwv2Dzh7rHoQP4BYg1cgSgjSXTE59iWT083+jKGtomI3Et728KCtFOrCuReCcojFfCMAbVND9UY95p0U9DisQEwPJ1eciz3Z2gBTNzFBSPJ05xhIhz2O48krNLZ39JFOe39ppKgSW6pW7+W/zTEtY0cb6UgY7rQZ7X4ZwnFZ+LwpXLIoowiZ/AZEgy/VQ4ZYovdz1H8SIHACiCbB7dXeG56j5Tfn57QAMzODiFaC0Oaq6je9uJfxL3WBKvc1p2Ad7lwvWsdYUPWx7jZtpMn8HflwuRJn8i9GAXK0IYC7lzRNXZpV8GAoVySdJpqZ8lQaLWBQd2zdhy8Brp98xUqtUHchJ8059wrnuJqLn+2eX5P+vS/RssxNS8Y8Og8mnHyYrZYZE5LyakfFpEdBbYDyPU/XtG3tllTTNGD7PSWEaOTUD3rP5QsOzxvEiAayRZVZi2Ld7egWyFJW4HAz3IjVNqE10Tv9X8cKPyz+JJT05wWLs1XkkFTCt2DUJ1jRi72TVN7UPefE=
        distributions: "sdist bdist_wheel"
        skip_existing: true
